/* stylelint-disable */

/* header and nav layout */
header {
  --nav-color: var(--color-blue);
  --nav-secondary-color: var(--color-blue-darker);
  --nav-hover-color: var(--color-blue-dark);
  --nav-border-color: var(--color-blue-light);
  --nav-text-color: var(--color-white);

  background-color: var(--nav-color);
  color: var(--nav-text-color);
}

header .header {
  display: none;
}
header .header.appear {
  display: unset;
}

header nav {
  box-sizing: border-box;
  display: grid;
  grid-template-areas: 'hamburger brand . tours search';
  grid-template-columns: 46px 50px 1fr 60px 46px;
  grid-template-rows: var(--nav-height);
  align-items: center;
  width: 100%;
  background-color: var(--nav-color);
  color: var(--nav-text-color);
  z-index: 2;
}

header nav[aria-expanded=true] {
  grid-template-areas: 'hamburger brand . tours search' 'menu . . . .';
  grid-template-rows: var(--nav-height) 1fr;
  grid-template-columns: 46px 50px 1fr 60px 46px;
  position: fixed;
  overflow-y: hidden;
  z-index: 3;
  box-shadow: 0 -0 0 100vh rgba(0,0,0,0.7);
  transition: box-shadow 0.5s ease-in;
}

header nav.search-active {
  grid-template-areas: 'hamburger brand . tours search' '. . . search-form .';
  grid-template-rows: var(--nav-height) 1fr;
  grid-template-columns: 46px 50px 1fr 60px 46px;
}

@media (min-width: 900px) {
  header nav {
    grid-template-areas: 'brand hamburger . tours search';
  }

  header nav[aria-expanded=true] {
    grid-template-areas: 'brand hamburger . tours search' 'menu . . . .';
  }
}

/* hamburger */
header nav .nav-hamburger {
  grid-area: hamburger;
  height: 32px;
  margin: 0 auto;
  cursor: pointer;
}

@media (min-width: 900px) {
  header nav .nav-hamburger::after {
    content: 'MENU';
    position: relative;
    top: 20px;
    font-size: 12px;
  } 
}

header nav .nav-hamburger-icon,
header nav .nav-hamburger-icon::after,
header nav .nav-hamburger-icon::before {
  box-sizing: border-box;
  display: block;
  position: relative;
  top: 16px;
  height: 2px;
  width: 30px;
  margin: auto;
  background: currentcolor;
}

header nav .nav-hamburger-icon::after,
header nav .nav-hamburger-icon::before {
  content: '';
  position: absolute;
  top: 10px;
}

header nav .nav-hamburger-icon::after {
  top: -10px;
}

/* brand */
header nav .nav-brand {
  grid-area: brand;
  z-index: 2;
}

header nav .nav-brand.white {
  background-color: var(--color-white);
}

header nav .nav-brand > a img {
  width: auto;
  height: 32px;
}

header nav[aria-expanded=true] .nav-brand a {
  left: 10px;
  transform: translateY(-50%);
}

/* other tours nav */
header nav .other-tours-dropdown {
  align-self: initial;
  grid-area: tours;
}

header nav .other-tours-dropdown button {
  border: 0;
  padding: 0 5px;
  font-size: 14px;
  line-height: 16px;
  background-color: transparent;
}

header nav .other-tours-dropdown button::after {
  content: url(../../icons/chevron-down.svg);
  filter: invert(70%); 
  display: block;
  width: 8px;
  position: relative;
  left: 45%;
  bottom: 6px;
}

header nav .other-tours-dropdown button.active {
  background-color: var(--nav-hover-color);
}

@keyframes menu {
  from {height: 0;visibility: hidden;}
  to {height: 100%;visibility: visible;}
}

header nav .header-tours-nav,
header nav .header-subnav {
  grid-area: menu;
  grid-column: 1 / span 5;
  align-self: start;
  background-color: var(--nav-hover-color);
  visibility: hidden;
  height: 0;
  overflow: hidden;
}

header nav .header-tours-nav.expanded,
header nav .header-subnav.expanded {
  visibility: visible;
  height: 100%;
  animation-name: menu;
  animation-duration: 0.5s;
}

header nav .header-tours-nav ul,
header nav .header-subnav ul {
  list-style: none;
  position: relative;
  overflow: visible;
  margin: 3px 0;
  padding: 0;
}

header nav .header-tours-nav ul li,
header nav .header-subnav ul li {
  margin: 0 5px;
  height: 32px;
}

header nav .header-tours-nav ul li a::after,
header nav .header-subnav ul li a::after {
  content: url(../../icons/circle.svg);
  filter: invert(70%); 
  width: 8px;
  display: inline-block;
  position: absolute;
  left: 95%;
}


header nav .header-subnav ul li.hasSubs > a::after {
  content: url(../../icons/chevron-right.svg);
}

header nav .header-subnav ul li.hasSubs.active > a::after {
  content: url(../../icons/chevron-left.svg);
}

header nav .header-tours-nav ul li a,
header nav .header-subnav ul li a {
  color: var(--nav-text-color);
  padding: 9px;
  font-size: 16px;
  line-height: 20px;
  display: block;
}

header nav .header-tours-nav ul li a:hover,
header nav .header-subnav ul li a:hover {
  text-decoration: none;
  background-color: var(--nav-secondary-color);
}

header nav .header-subnav .nav-tabs,
header nav .header-subnav .tab-pane {
  display: none;
}

header nav .header-subnav .tab-pane:first-of-type {
  display: block;
}

header nav .header-subnav .description-target {
  display: none;
}

header nav .header-subnav .column-center,
header nav .header-subnav .column-right {
  display: none;
}

header nav .header-subnav ul > li > ul {
  visibility: hidden;
  height: 0;
}

header nav .header-subnav ul > li > ul.active {
  visibility: visible;
  height: 100%;
}

header nav .header-subnav ul.sub-active > li {
  visibility: hidden;
  height: 0;
}

header nav .header-subnav ul.sub-active > li.active {
  visibility: visible;
  height: 100%;
}

header nav .nav-search .search-icon {
  grid-area: search;
  content: url(../../icons/search.svg);
  filter: invert(80%);
  cursor: pointer;
}

header nav .search-form {
  display: none;
  grid-area: search-form;
  grid-column: 4 / span 2
}

header nav.search-active .search-form {
  display: block;
}